<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Formulaire Minimal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow">
        <h1 class="text-2xl font-bold mb-6">Test Formulaire Actualit√© - Version Minimale</h1>
        
        <form id="testForm" action="http://127.0.0.1:8000/admin/actualite" method="POST">
            <input type="hidden" name="_token" value="{{ csrf_token() }}">
            
            <div class="mb-4">
                <label for="titre" class="block text-sm font-medium text-gray-700 mb-2">Titre *</label>
                <input type="text" 
                       id="titre" 
                       name="titre" 
                       value="Test titre minimal" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md" 
                       required>
            </div>
            
            <div class="mb-4">
                <label for="texte" class="block text-sm font-medium text-gray-700 mb-2">Contenu *</label>
                <textarea id="texte" 
                          name="texte" 
                          rows="4" 
                          class="w-full px-3 py-2 border border-gray-300 rounded-md" 
                          required>Ceci est un contenu de test minimal pour v√©rifier que le bouton enregistrer fonctionne sans interf√©rence JavaScript.</textarea>
            </div>
            
            <div class="mb-6">
                <label class="inline-flex items-center mr-4">
                    <input type="checkbox" name="a_la_une" value="1" class="mr-2">
                    √Ä la une
                </label>
                <label class="inline-flex items-center">
                    <input type="checkbox" name="en_vedette" value="1" class="mr-2">
                    En vedette
                </label>
            </div>
            
            <div class="flex space-x-4">
                <button type="button" 
                        onclick="console.log('Annuler cliqu√©')" 
                        class="px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                    Annuler
                </button>
                
                <button type="submit" 
                        id="submitBtn"
                        class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                    Enregistrer (Test)
                </button>
            </div>
        </form>
        
        <div id="logs" class="mt-6 p-4 bg-gray-100 rounded text-sm">
            <h3 class="font-medium">Logs de test :</h3>
            <div id="logContent"></div>
        </div>
    </div>

    <script>
    function addLog(message) {
        const logContent = document.getElementById('logContent');
        const time = new Date().toLocaleTimeString();
        logContent.innerHTML += `<div>[${time}] ${message}</div>`;
        console.log(message);
    }

    document.addEventListener('DOMContentLoaded', function() {
        addLog('‚úÖ Page charg√©e');
        
        const form = document.getElementById('testForm');
        const submitBtn = document.getElementById('submitBtn');
        
        if (form && submitBtn) {
            addLog('‚úÖ Form et bouton trouv√©s');
            addLog(`Form action: ${form.action}`);
            
            // Test bouton click
            submitBtn.addEventListener('click', function(e) {
                addLog('üî¥ BOUTON CLIQU√â !');
                addLog(`Event type: ${e.type}`);
                addLog(`preventDefault: ${e.defaultPrevented}`);
            });
            
            // Test form submit
            form.addEventListener('submit', function(e) {
                addLog('üöÄ FORMULAIRE SOUMIS !');
                addLog(`Action: ${this.action}`);
                addLog(`Method: ${this.method}`);
                
                // Laisser la soumission continuer pour le test
                addLog('‚è≥ Soumission en cours...');
            });
            
        } else {
            addLog('‚ùå Form ou bouton non trouv√©');
        }
    });
    </script>
</body>
</html>
